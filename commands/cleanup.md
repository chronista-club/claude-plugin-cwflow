---
description: マージ済み・不要なワーカー環境を検出して一括削除。
---

# CW Cleanup — ワーカー環境のクリーンアップ

## 手順

1. `cw ls` で全ワーカー一覧を取得

2. 各ワーカーの状態を判定:
   - **マージ済み**: 対応するPRがMerged状態（`gh pr list --head <branch> --state merged`）
   - **Closed**: 対応するPRがClosed状態
   - **未コミット変更あり**: `git status --short` が空でない
   - **アクティブ**: 上記以外

3. 判定結果を表示:
   ```
   Worker          Status          Action
   ─────────────────────────────────────────────
   issue-42        PR Merged       削除可能
   issue-43        PR Closed       削除可能
   hotfix-1        未コミット変更  保留（要確認）
   issue-44        アクティブ      保持
   ```

4. 「削除可能」なワーカーについてユーザーに確認:
   - 全て削除 / 個別選択 / キャンセル

5. 確認後、`cw rm <name>` で削除を実行

## 注意

- 未コミット変更があるワーカーは自動削除しない（明示的な確認が必要）
- ワーカーが0件の場合は「クリーンアップ対象はありません」と表示
